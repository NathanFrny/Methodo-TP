<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste Commande</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Liste Commande</h1>

        <table id="tableauCommandes">
            <thead>
                <tr>
                    <th>Date-Heure</th>
                    <th>Objet</th>
                    <th>Nom</th>
                    <th>Email</th>
                    <th>Téléphone</th>
                </tr>
            </thead>
            <tbody>
            </tbody>
        </table>

        <a href="index.html" class="button">Retour Accueil</a>
    </div>

    <script>
        fetch('/api/commandes')
          .then(response => response.json())
          .then(data => {
            const tableauCommandes = document.getElementById('tableauCommandes');
            
            // Boucle à travers les données récupérées pour créer les lignes du tableau
            data.forEach(commande => {
              const row = tableauCommandes.insertRow();
              row.innerHTML = `
                <td>${commande.reservation}</td>
                <td>${commande.nom_equipement}</td>
                <td>${commande.nom}</td>
                <td>${commande.email}</td>
                <td>${commande.telephone}</td>
              `;
            });
          })
          .catch(error => console.error('Erreur :', error));
      </script>
    
</body>
</html>
